---
title: 基本数据类型和引用数据类型的区别
date: 2020-04-25
lang: 'zh-CN'
sidebar: 'auto'
categories:
 - JavaScript
---

## 基本数据类型

1、 字符串（String）、数字(Number)、布尔(Boolean)、对空（Null）、未定义（Undefined）、Symbol。 

>  Symbol 是 ES6 引入了一种新的原始数据类型，表示独一无二的值。 



2、基本数据类型是按值访问的，因为可以直接操作保存在变量中的实际值。储存在栈中！

```js
var a = 1;
var b = a; 
	b = 2; 
console.log(a); // 1
```

b获取的是a值得一份拷贝，虽然，两个变量的值相等，但是两个变量保存了两个不同的基本数据类型值。如图：

![](http://qn.huat.xyz/content/2012062912181127.dib)

## 引用数据类型

1、 对象(Object)、数组(Array)、函数(Function)。 



2、引用类型数据在栈内存中保存的实际上是对象在堆内存中的引用地址。通过这个引用地址可以快速查找到保存中堆内存中的对象。

```js
var obj1 = new Object(); 
var obj2 = obj1; 
obj2.name = "Obj2的name"; 
console.log(obj1.name); // Obj2的name
```

说明这两个引用数据类型指向了同一个堆内存对象。obj1赋值给obj2，实际上这个堆内存对象在栈内存的引用地址复制了一份给了obj2，但是实际上他们共同指向了同一个堆内存对象。

![](http://qn.huat.xyz/content/2012062914380085.dib)

## 小结

**1、声明变量时不同的内存分配：**　

- 原始值：存储在栈（stack）中的简单数据段，也就是说，它们的值直接存储在**变量访问的位置**。

　　　　这是因为这些原始类型占据的空间是固定的，所以可将他们存储在较小的内存区域 – 栈中。这样存储便于迅速查寻变量的值。

- 引用值：存储在堆（heap）中的对象，也就是说，**存储在变量处的值是一个指针（point），指向存储对象的内存地址。**

　　　  这是因为：引用值的大小会改变，所以不能把它放在栈中，否则会降低变量查寻的速度。相反，放在变量的栈空间中的值是该对象存储在堆中的地址。地址的大小是固定的，所以把它存储在栈中对变量性能无任何负面影响。



**2、不同的内存分配机制也带来了不同的访问机制**

- 在javascript中是不允许直接访问保存在堆内存中的对象的，所以在访问一个对象时，首先得到的是这个对象在堆内存中的地址，然后再按照这个地址去获得这个对象中的值，这就是**按引用访问**。

- 原始类型的值则是可以直接访问到的。

　　

**3、复制变量时的不同**

- 原始值：在将一个保存着原始值的变量复制给另一个变量时，会将原始值的副本赋值给新变量，**此后这两个变量是完全独立的，他们只是拥有相同的值而已。** 就像相当于你将A文件夹拷贝了一个副本，你去修改B文件夹的文件，A文件夹的文件并不会变

- 引用值：在将一个保存着对象内存地址的变量复制给另一个变量时，会把这个内存地址赋值给新变量，也就是说这两个变量都指向了堆内存中的同一个对象，他们中任何一个作出的改变都会反映在另一个身上。

　　　　（这里要理解的一点就是，复制对象时并不会在堆内存中新生成一个一模一样的对象，只是多了一个保存指向这个对象指针的变量罢了）。**多了一个指针**

　

**4、参数传递的不同**　 

　　1）原始值：只是把变量里的值传递给参数，之后参数和这个变量互不影响。

　　2）引用值：对象变量它里面的值是这个对象在堆内存中的内存地址，因此它传递的值也就是这个内存地址！